manifest {
	author = "Christian Schudoma, Daniel Podlesny"
	defaultBranch = "main"
	description = "Metagenomics Trait prediction"
	name = "porTRAIT"
	nextflowVersion = ">=24"
	version = "0.1"
}

process {
    withName: recognise_genome {        
        container = "ghcr.io/grp-bork/recognise:main"
		label = "small"
		cpus = 8
		memory = { 16.GB * task.attempt }
		time = { 1.day * task.attempt }
    }
	withName: gtdbtk_classify {
		container = "quay.io/biocontainers/gtdbtk:2.4.1--pyhdfd78af_1"
		label  = 'highmemLarge'
    	cpus   = 24
    	memory = { 64.GB  * task.attempt }
    	time   = { 4.days * task.attempt }
	}
}

params {
    output_dir = null
    input_dir = null
    marker_db = null
	gtdbtk_data = null
}

docker {
    enabled = true
}

env {
	GTDBTK_DATA_PATH = params.gtdbtk_data
}